{% extends "index.html" %}
{% block encabezado %}
{% include "encabezado.html" %}
{% endblock %}
{% block menu %}
{% include "menu.html" %}
{% endblock %}
{% block contenido %}
<div class="w-50 mt-3" style="margin: 0 auto;">
    <form id="registrarUsuario" action="/registrarUsuario/" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div>
            <h3 class="text-center">EDITAR Usuario</h3>
        </div>
        <div class="form-floating">
            <input type="text" name="txtNombre" id="txtNombre" class="form-control" value="{{usuario.first_name}}" required>
            <label for="txtNombre">Nombres </label>
            <br>
        </div>
        <div class="form-floating">
            <input type="text" name="txtApellido" id="txtApellido" class="form-control" value="{{usuario.last_name}}" required>
            <label for="txtApellido">Apellidos </label>
            <br>
        </div>
        <div class="form-floating">
            <input type="text" name="txtCorreo" id="txtCorreo" class="form-control" value="{{usuario.email}}" required>
            <label for="txtCorreo">Correo Electronico </label>
            <br>
        </div>
        <div class="form-floating">
            <select class="form-select" name="cbTipo" id="cbTipo" value="{{usuario.userTipo}}" required>
                <option value="0">Seleccione</option>
                {% for tipo in tipoUsuario %}
                    {% if tipo.0 == usuario.userTipo %}
                        <option value="{{tipo.0}}" selected>{{tipo.1}} </option>
                    {% else %}
                        <option value="{{tipo.0}}">{{tipo.1}} </option>
                    {% endif %}
                {% endfor %}
            </select>
            <label for="cbCategoria">Tipo </label>
            <br>
        </div>
        <div class="form-floating">
            <select class="form-select" name="cbRol" id="cbRol" value="{{roles.name}}" required>
                <option value="0">Seleccione</option>
                {% for opcion in roles %}
                    {% if opcion.id == usuario.id %}
                        <option value="{{opcion.id}}" selected>{{opcion.name}}</option>
                    {% else %}
                        <option value="{{opcion.id}}">{{opcion.name}} </option>
                    {% endif %}
                {% endfor %}
            </select>
            <label for="cbCategoria">Rol en el sistema </label>
            <br>
        </div>
        <div class="form-floating">
            <input type="file" name="Fimagen" id="Fimagen" class="form-control" accept=".jpg" value = {{usuario.userFoto}}>
            <label for="Fimagen">Imagen del producto: (jpg)</label>
        </div>
        <div class="text-center">
            <br>
            <img id="imagenproducto" src="../../media/{{usuario.userFoto}}" alt="" width="100" height="100">
        </div>
        <div class="text-center">
            <br>
            <button class="btn btn-success mt.3">Registrar</button>
        </div>
    </form>
    <div>
        {% if mensaje %}
            {% if estado %}
                <script>
                    Swal.fire('Producto', '{{mensaje}}', 'success')
                </script>
        {% else %}
                <script>
                    Swal.fire('Producto', '{{mensaje}}', 'error')
                </script>
            {% endif %}
        {% endif %}
    </div>
</div>
{% endblock %}
{% block piePagina %}
{% include "piePagina.html" %}
{% endblock %}